@if(isLoading) {
  <div class="spinner-container">
    <app-spinner></app-spinner>
  </div>
} @else {
  <ng-container *ngIf="userRole$ | async as userRole">
  <div class="posts-container">
    <header class="posts-header">
      <h2>Publicaciones recientes</h2>
        @if(userRole === UserRoleEnum.Admin) {
          <div class="add-post-button">
            <p-button
              label="Agregar PublicaciÃ³n"
              icon="pi pi-plus"
              (click)="createPost()"
              styleClass="p-button-success"
            ></p-button>
          </div>
        }
    </header>
    <div class="posts-grid" *ngIf="posts$ | async as posts">
      <p-card *ngFor="let post of posts">
        <ng-template pTemplate="header">
          <div class="post-header">
            <div class="post-info">
              <h3>Usuario {{ post.userId }}</h3>
            </div>
            <div class="post-actions" *ngIf="userRole === UserRoleEnum.Admin">
              <p-button
                icon="pi pi-pencil"
                (click)="editPost(post)"
                styleClass="p-button-text"
              ></p-button>
              <p-button
                icon="pi pi-trash"
                (click)="deletePost(post)"
                styleClass="p-button-text"
              ></p-button>
            </div>
          </div>
        </ng-template>
        <div class="post-content">
          <h4>{{ post.title }}</h4>
          <p>{{ post.body }}</p>
        </div>
        <ng-template pTemplate="footer">
          <div class="post-footer">
            <p-button
              [icon]="post.isFavorite ? 'pi pi-star-fill' : 'pi pi-star'"
              styleClass="p-button-text"
              (click)="toggleFavorite(post)">
            </p-button>
          </div>
        </ng-template>
      </p-card>
    </div>
  </div>
  </ng-container>
}
